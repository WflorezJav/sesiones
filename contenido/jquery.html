<html>
    <head>
        <title>Jquery</title>
        <style>
            .cubo{
                background-color: red;
                width: 100px;
                /* position: absolute; */
                height: 100px;
            }
        </style>
        <script>
            var Persona = function(nombre, apellido, identificacion)
            {
                this.nombre = nombre;
                this.apellido = apellido;
                this.identificacion = identificacion;
            }

            Persona.prototype.MostrarInformacion = function()
            {
                alert("nombre:" + this.nombre + " apellido:" + this.apellido + " identificacion:" + this.identificacion + " edad: " + this.edad  + " a√±o: " + this.anio)
            }

            Persona.prototype.CalularAnio = function()
            {
                this.anio = 2021 - this.edad;                
            }

            Persona.prototype.DibujarPersona = function(fn)
            {
                if(fn)
                {
                    fn(this.nombre);
                }else
                {
                    alert("No se ha recibido un parametro");
                }               
            }


            /*$(document).ready(
                function()
                {
                    
                }
            );*/
        </script>
        <script src="../javascript/jquery-3.5.1.min.js"></script>
    </head>
    <body>
        <button>Iniciar</button>
        <div class="cubo" id="contenedor"></div>

        <h3>Input Text</h3>
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" name="nombre"> <br>

        <label for="apellido">Apellido</label>
        <input type="text" id="apellido" name="apellido"> <br>
     
        <label for="identificacion">Identificacion</label>
        <input type="text" id="identificacion" name="identifiacion"> <br>

        <button id="btn-gestionar">Gestionar Persona</button>

        <table id="tbl">
            <tr>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>idenficacion</th>
                <th></th>
            </tr>
            
        </table>

        <script>
                /*$("button").click(function()
                {
                    $("#contenedor").animate({left: '250px'});
                });*/

                var strtemplate = "<tr><td><span id='nombre'>{1}</span></td><td><span id='apellido'>{2}</span></td><td><span id='identicacion'>{3}</span></td><td><button>Saludar</button></td></tr>"
                
                $("#btn-gestionar").click(function()
                {
                    var nombre = $("#nombre").val();
                    var apellido = $("#apellido").val();
                    var identificacion = $("#identificacion").val();

                    var persona = new Persona(nombre, apellido, identificacion);

                    var strt = strtemplate.replace('{1}', nombre); 
                    strt = strt.replace('{2}', apellido); 
                    strt = strt.replace('{3}', identificacion); 

                    var table = $("#tbl");
                    var tmp = $(strt); 
                    
                    var boton = tmp.find("button");
                    boton.click(function(prs)
                    {
                        alert("Hola: " + prs.nombre);
                    }.bind(this, persona));
                    
                    table.append(tmp);
                    
                    $("#nombre").val("");
                    $("#apellido").val("");
                    $("#identificacion").val("");
                    //$("#nombre").setFocus();
                });

                function Saludar(persona)
                {
                    alert("Hola: " + persona.nombre);
                }
        </script>
    </body>
</html>